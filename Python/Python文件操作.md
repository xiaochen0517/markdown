# Python文件操作

## 一、文件的基本操作

- 打开文件
- 读写等操作
- 关闭文件

> 注意：可以只打开和关闭文件，不进行任何读写操作

### 1.1打开

在Python中，使用open函数，可以打开一个已经存在的文件，或者创建一个新文件。

语法：`open(name, mode)`，此方法返回一个文件对象

`name`：是要打开的目标文件名的字符串（可以包含文件所在的具体路径）

`mode`：设置打开文件的模式（访问模式）：只读、写入追加等。

#### 1.1.1打开模式

| 模式  | 描述                                                         |
| ----- | ------------------------------------------------------------ |
| `r`   | 以只读方式打开文件，文件的指针会放在文件开头                 |
| `rb`  | 以二进制格式打开一个文件用于只读，文件指针会放在文件开头     |
| `r+`  | 打开一个文件用于读写，文件指针会放在文件开头                 |
| `rb+` | 以二进制格式打开一个文件用于读写，文件指针将会放在文件的开头 |
| `w`   | 打开一个文件用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。 |
| `wb`  | 以二进制格式打开一个文件用于读写，如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，则创建新文件 |
| `w+`  | 打开一个文件用于读写。如果改文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件 |
| `wb+` | 以二进制格式打开一个文件用于读写。如果文件已经存在则打开文件，并从开头开始编辑即原有内容会被删除。如果该文件不存在，创建新文件 |
| `a`   | 打开一个文件用于追加，如果该文件已存在，文件指针会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入 |
| `ab`  | 以二进制格式打开一个文件用于追加，如果该文件已存在，文件指针会放在文件的结尾。如果该文件不存在，创建新文件进行写入 |
| `a+`  | 打开一个文件用于读写，如果该文件已存在，文件指针会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入 |
| `ab+` | 以二进制格式打开一个文件用于追加，如果该文件已存在，文件指针会放在文件的结尾。如果该文件不存在，创建新文件进行写入 |

### 1.2文件对象方法

#### 1.2.1写

语法：`对象.write('内容')`

**示例：**

```python
file = open('fileio\\test1.txt', 'w')

file.write('hello1')

file.close()
```

#### 1.2.2读

- `read()`

语法：`文件对象.read(num)`

> `num`表示要从文件中读取的数据的长度（单位是字节），如果没有传入`num`，则表示读取文件中所有的数据

- `readlines()`

`readlines`可以按照行的方式把整个文件中的内容进行一次性读取，并且返回一个列表，其中每一行的数据为一个元素。

```python
    file = open('fileio\\test1.txt', 'r')
    content = file.readlines()
    # ['hello1\n', '\n', 'aaaa\n', 'aaaa\n', 'dfdfs\n', 'sdfs\n', 'vsvxx\n', 'dfsesf']
    print(content)
    file.close()
```

- `readline()`

`readline()`一次读取一行内容

```python
    file = open('fileio\\test1.txt', 'r')
    content1 = file.readline()
    print(content1)  # hello1
    content2 = file.readline()
    print(content2)  # aaaa
    file.close()
```

- `seek()`

作用：用来移动文件指针

语法：`文件对象.seek(偏移量, 起始位置)`

> 起始位置：
>
> - 0：文件开头
> - 1：当前位置
> - 2：文件结尾

## 二、文件和文件夹的操作

在Python中文件和文件夹的操作需要导入`os`模块

```python
import os
```

使用

```python
os.函数名()
```

### 2.1文件重命名

```python
os.rename(目标文件名, 新文件名)
```

### 2.2删除文件

```python
os.remove(目标文件名)
```

### 2.3创建文件夹

```python
os.mkdir(文件夹名)
```

### 2.4删除文件夹

```python
os.rmdir(文件夹名)
```

### 2.5获取当前目录

```python
os.getcwd()
```

### 2.6改变默认目录

```python
os.chdir(目录)
```

### 2.7获取目录列表

```python
os.listdir(目录)
```

